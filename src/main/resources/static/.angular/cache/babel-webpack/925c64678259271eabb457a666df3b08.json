{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/project.service\";\nimport * as i2 from \"src/app/services/employee.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ngx-moment\";\n\nconst _c0 = function (a1) {\n  return [\"details\", a1];\n};\n\nfunction ProjectListComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelementStart(1, \"div\", 27);\n    i0.ɵɵelementStart(2, \"span\", 28);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 29);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"amDifference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const project_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(16, _c0, project_r4.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 9, project_r4.projectName));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(project_r4.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(project_r4.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(project_r4.priority);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(project_r4.priority);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Expire in \", i0.ɵɵpipeBind4(11, 11, project_r4.endDate, ctx_r3.today, \"days\", true), \" days\");\n  }\n}\n\nfunction ProjectListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, ProjectListComponent_div_4_div_1_Template, 12, 18, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", data_r2._embedded.projects);\n  }\n}\n\nfunction ProjectListComponent_div_24_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const employee_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", employee_r7.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(employee_r7.firstName + \" \" + employee_r7.lastName);\n  }\n}\n\nfunction ProjectListComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"span\", 10);\n    i0.ɵɵtext(2, \"Owner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 30);\n    i0.ɵɵtemplate(4, ProjectListComponent_div_24_option_4_Template, 2, 2, \"option\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const employeeData_r5 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", employeeData_r5._embedded.employees);\n  }\n}\n\nexport let ProjectListComponent = /*#__PURE__*/(() => {\n  class ProjectListComponent {\n    constructor(projectService, employeeService, router) {\n      this.projectService = projectService;\n      this.employeeService = employeeService;\n      this.router = router;\n      this.modalCreateClass = \"modal\";\n      this.modalChooseClass = \"modal\";\n      this.project = new FormGroup({\n        projectName: new FormControl(),\n        owner: new FormControl(),\n        category: new FormControl(),\n        priority: new FormControl(),\n        status: new FormControl(\"WAITING\"),\n        startDate: new FormControl(),\n        endDate: new FormControl(),\n        budget: new FormControl(),\n        budgetInDays: new FormControl() // percentComplete: new FormControl(10)\n\n      });\n      this.td = new Date();\n      this.today = `${this.td.getFullYear()}-${this.td.getMonth() + 1 > 9 ? this.td.getMonth() + 1 : '0' + (this.td.getMonth() + 1)}-${this.td.getDate() > 9 ? this.td.getDate() : '0' + this.td.getDate()}T00:00:00.000+00:00`;\n    }\n\n    ngOnInit() {\n      this.pull();\n      this.getAllEmployee();\n    }\n\n    pull() {\n      this.projects = this.projectService.getAll();\n    }\n\n    clickShowCreateModal() {\n      if (this.modalCreateClass == \"modal\") {\n        this.modalCreateClass = \"modal show\";\n      } else {\n        this.modalCreateClass = \"modal\";\n      }\n    }\n\n    clickShowChooseModal() {\n      if (this.modalChooseClass == \"modal\") {\n        this.modalChooseClass = \"modal show\";\n      } else this.modalChooseClass = \"modal\";\n    }\n\n    create() {\n      var project = this.project.value;\n      var createdDate = new Date();\n      project.createdDate = `${createdDate.getFullYear()}-${createdDate.getMonth() + 1 > 9 ? createdDate.getMonth() + 1 : '0' + (createdDate.getMonth() + 1)}-${createdDate.getDate() > 9 ? createdDate.getDate() : '0' + createdDate.getDate()}`;\n      this.projectService.create(project).subscribe(() => {\n        // this.project.reset()\n        this.pull();\n        this.projects.subscribe(data => {\n          this.clickShowCreateModal();\n          let newProject = data[\"_embedded\"][\"projects\"][data[\"_embedded\"][\"projects\"].length - 1];\n          this.router.navigate([\"project\", \"details\", newProject[\"id\"]]);\n        });\n      });\n    } // confirm(){\n    //   this.clickShowChooseModal()\n    // }\n\n\n    getAllEmployee() {\n      this.employees = this.employeeService.getAll();\n    }\n\n  }\n\n  ProjectListComponent.ɵfac = function ProjectListComponent_Factory(t) {\n    return new (t || ProjectListComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.EmployeeService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  ProjectListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectListComponent,\n    selectors: [[\"app-project-list\"]],\n    decls: 60,\n    vars: 9,\n    consts: [[1, \"item-list\"], [1, \"list-title\"], [\"class\", \"items\", 4, \"ngIf\"], [1, \"add-item\"], [3, \"click\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"close\", 3, \"click\"], [1, \"container\", 3, \"formGroup\"], [1, \"h-container\"], [1, \"label\"], [\"formControlName\", \"projectName\"], [4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"category\"], [\"type\", \"text\", \"formControlName\", \"priority\"], [\"value\", \"HIGH\"], [\"value\", \"NORMAL\"], [\"value\", \"LOW\"], [\"type\", \"date\", \"formControlName\", \"startDate\"], [\"type\", \"date\", \"formControlName\", \"endDate\"], [\"type\", \"number\", \"formControlName\", \"budget\"], [\"type\", \"number\", \"formControlName\", \"budgetInDays\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn-success\", 3, \"click\"], [1, \"items\"], [\"class\", \"list-container\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-container\"], [1, \"item\", \"in-progress\", 3, \"routerLink\"], [1, \"item-name\"], [1, \"bages\"], [\"type\", \"text\", \"formControlName\", \"owner\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n    template: function ProjectListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"span\");\n        i0.ɵɵtext(3, \"Projects\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, ProjectListComponent_div_4_Template, 2, 1, \"div\", 2);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelementStart(7, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function ProjectListComponent_Template_button_click_7_listener() {\n          return ctx.clickShowCreateModal();\n        });\n        i0.ɵɵtext(8, \"Add project\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵelementStart(10, \"div\", 5);\n        i0.ɵɵelementStart(11, \"div\", 6);\n        i0.ɵɵelementStart(12, \"span\", 7);\n        i0.ɵɵlistener(\"click\", function ProjectListComponent_Template_span_click_12_listener() {\n          return ctx.clickShowCreateModal();\n        });\n        i0.ɵɵtext(13, \"\\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"h2\");\n        i0.ɵɵtext(15, \"Create Project\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"h5\");\n        i0.ɵɵtext(18, \"Project details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 9);\n        i0.ɵɵelementStart(20, \"div\");\n        i0.ɵɵelementStart(21, \"span\", 10);\n        i0.ɵɵtext(22, \"Project Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, ProjectListComponent_div_24_Template, 5, 1, \"div\", 12);\n        i0.ɵɵpipe(25, \"async\");\n        i0.ɵɵelementStart(26, \"div\");\n        i0.ɵɵelementStart(27, \"span\", 10);\n        i0.ɵɵtext(28, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\");\n        i0.ɵɵelementStart(31, \"span\", 10);\n        i0.ɵɵtext(32, \"Priority\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"select\", 14);\n        i0.ɵɵelementStart(34, \"option\", 15);\n        i0.ɵɵtext(35, \"High\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"option\", 16);\n        i0.ɵɵtext(37, \"Normal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"option\", 17);\n        i0.ɵɵtext(39, \"Low\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 9);\n        i0.ɵɵelementStart(41, \"div\");\n        i0.ɵɵelementStart(42, \"span\", 10);\n        i0.ɵɵtext(43, \"Start\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"input\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\");\n        i0.ɵɵelementStart(46, \"span\", 10);\n        i0.ɵɵtext(47, \"End\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"input\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\");\n        i0.ɵɵelementStart(50, \"span\", 10);\n        i0.ɵɵtext(51, \"Budget\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"input\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\");\n        i0.ɵɵelementStart(54, \"span\", 10);\n        i0.ɵɵtext(55, \"Budget In Days\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(56, \"input\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 22);\n        i0.ɵɵelementStart(58, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function ProjectListComponent_Template_button_click_58_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵtext(59, \"Add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 5, ctx.projects));\n        i0.ɵɵadvance(5);\n        i0.ɵɵclassMap(ctx.modalCreateClass);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.project);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(25, 7, ctx.employees));\n      }\n    },\n    directives: [i4.NgIf, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.DefaultValueAccessor, i5.NgControlStatus, i5.FormControlName, i5.SelectControlValueAccessor, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.NumberValueAccessor, i4.NgForOf, i3.RouterLink],\n    pipes: [i4.AsyncPipe, i4.UpperCasePipe, i6.DifferencePipe],\n    styles: [\".item-list[_ngcontent-%COMP%]{height:100vh;width:350px;background:#f7f7f7;margin-left:75px;position:fixed;box-shadow:0 4px 8px #0003}.list-title[_ngcontent-%COMP%]{padding:20px;font-weight:700}.list-container[_ngcontent-%COMP%]{padding:5px;position:relative;overflow:hidden}.list-container[_ngcontent-%COMP%]:hover   .bages[_ngcontent-%COMP%]{visibility:visible;right:10px}.bages[_ngcontent-%COMP%]{right:-150px;top:9px;position:absolute;padding:7px;z-index:2000;background:#a1a19840;width:100px;transition:right .5s ease-in-out}.item[_ngcontent-%COMP%]{padding:10px;cursor:pointer;border-radius:5px;border-bottom:solid 1px#dbdbdb}.items[_ngcontent-%COMP%]{height:80%;overflow:overlay}.item[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.item-name[_ngcontent-%COMP%]{display:block}.INPROGRESS[_ngcontent-%COMP%]{background-color:#465ee0;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:10px;padding-right:10px;color:#fff}.OPEN[_ngcontent-%COMP%]{background-color:#9e9e9e;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:10px;padding-right:10px;color:#fff}.WAITING[_ngcontent-%COMP%]{background-color:#ec1dae;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:20px;padding-right:20px;color:#fff}.DEFERRED[_ngcontent-%COMP%]{background-color:#9e9e9e;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:17px;padding-right:17px;color:#fff}.COMPLETED[_ngcontent-%COMP%]{background-color:#0fa523;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:12px;padding-right:12px;color:#fff}.HIGH[_ngcontent-%COMP%]{background-color:red;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:20px;padding-right:20px;color:#fff;margin-left:5px;margin-right:5px}.NORMAL[_ngcontent-%COMP%]{background-color:orange;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:10px;padding-right:10px;color:#fff;margin-left:5px;margin-right:5px}.LOW[_ngcontent-%COMP%]{background-color:#b5da42;font-size:11px;padding-bottom:3px;border-radius:10px;padding-left:22px;padding-right:22px;color:#fff;margin-left:5px;margin-right:5px}.add-item[_ngcontent-%COMP%]{bottom:35px;width:100%;position:absolute}.add-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-right:auto;margin-left:auto;height:2rem;width:200px;background-color:#fff;border:solid 1px #e5e5e5;cursor:pointer}.add-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;justify-content:center;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto;padding:0;border:1px solid #888;width:80%;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@keyframes animatetop{0%{top:-300px;opacity:0}to{top:0;opacity:1}}.close[_ngcontent-%COMP%]{color:#fff;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.modal-header[_ngcontent-%COMP%]{padding:2px 16px;background-color:#505050;color:#fff}.modal-body[_ngcontent-%COMP%]{padding:2px 16px}.modal-footer[_ngcontent-%COMP%]{padding:2px 16px;background-color:#505050;color:#fff}.modal[_ngcontent-%COMP%]{display:none}.show[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]{padding:10px;box-shadow:0 4px 8px #0003;margin-bottom:1em}.h-container[_ngcontent-%COMP%]{width:50%;display:inline-grid}.h-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px;padding:1px;height:15px}.h-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:205px;padding:1px}.label[_ngcontent-%COMP%]{width:150px;display:inline-block}.btn-success[_ngcontent-%COMP%]{font-weight:.1rem;margin:.375rem;color:#070707;background-color:#fff;background-image:none;border-color:#000;border-radius:.25rem;border:1px solid #28a745;padding:.375rem .75rem}[_ngcontent-%COMP%]::-webkit-scrollbar{width:1px}\"]\n  });\n  return ProjectListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}